(self.webpackChunktodo=self.webpackChunktodo||[]).push([[520],{520:(e,t,n)=>{"use strict";n.r(t),n.d(t,{displayTasks:()=>r,render:()=>d,openTask:()=>s,deleteNoteFromDisplay:()=>c,deleteTaskDom:()=>h,strikeThrough:()=>m,deleteAll:()=>p});var i=n(256);let l=document.querySelector("#body"),d=function(){for(;l.firstChild;)l.removeChild(l.firstChild)},r=function(){d();let e=i.folderArray[i.folderArray.findIndex((e=>!0===e.highlight))],t=e.tasks;for(let i=0;i<t.length;i++){let d=document.createElement("ul");d.classList.add("task-display"),l.appendChild(d);let o=document.createElement("img");d.appendChild(o),o.id="task-delete",o.src="https://image.flaticon.com/icons/png/512/61/61848.png";let a=document.createElement("li");d.appendChild(a),a.innerText=t[i].title;let s=document.createElement("li");d.appendChild(s),s.innerText=t[i].date,n=d,"low"===(r=e.tasks[i].prio)?n.style.backgroundColor="green":"med"===r?n.style.backgroundColor="yellow":"high"===r&&(n.style.backgroundColor="red")}var n,r},o=document.querySelector("#go-back"),a=document.querySelector("#del-task"),s=function(e){let t=i.folderArray[i.folderArray.findIndex((e=>!0===e.highlight))].tasks;var n;d(),n=e,o.style.visibility="visible",l.appendChild(o),a.style.visibility="visible",l.appendChild(a),a.dataset.parent=n,function(e){let t=document.createElement("h2");t.id="task-text",l.appendChild(t),t.innerText=e}(e);let r=t.findIndex((t=>t.title===e));if(function(e,t){let n=document.createElement("h4");n.id="date-text",l.appendChild(n),n.innerText=t[e].date}(r,t),function(e,t){let n=document.createElement("div");n.id="descr-text",l.appendChild(n),n.innerText=t[e].descr}(r,t),""!==t[r].notes[0])for(let e=0;e<t[r].notes.length;e++){let n=document.createElement("div");n.classList.add("note-container"),l.appendChild(n);let i=document.createElement("img");n.appendChild(i),i.id="note-delete",i.src="https://image.flaticon.com/icons/png/512/61/61848.png";let d=document.createElement("div");n.appendChild(d),d.innerText=t[r].notes[e],!0===t[r].strike[e]&&(d.id="strike-through")}},c=function(e){e.target.parentNode.remove()},h=function(e){e.target.parentNode.remove()},p=function(e){let t,n=document.getElementsByTagName("li");for(let i=0;i<n.length;i++)n[i].innerText===e&&(t=n[i]);t.parentElement.remove()},m=function(e){"strike-through"===e.target.id?(e.target.removeAttribute("id"),n.e(152).then(n.bind(n,152)).then((t=>{t.strikeFalse(e)}))):(e.target.id="strike-through",n.e(152).then(n.bind(n,152)).then((t=>{t.strikeTrue(e)})))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLy4vc3JjL3Rhc2tzRE9NLmpzIl0sIm5hbWVzIjpbImJvZHlEaXNwbGF5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVuZGVyIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGlzcGxheVRhc2tzIiwiaGlnaGxpZ2h0ZWRGb2xkZXIiLCJmb2xkZXJBcnJheSIsIngiLCJoaWdobGlnaHQiLCJoaWdobGlnaHRlZFRhc2tzIiwidGFza3MiLCJpIiwibGVuZ3RoIiwibGlzdENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsInRhc2tEZWxldGUiLCJpZCIsInNyYyIsInRpdGxlRGlzcGxheSIsImlubmVyVGV4dCIsInRpdGxlIiwiZGF0ZURpc3BsYXkiLCJkYXRlIiwiY29udGFpbmVyIiwicHJpbyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZ29CYWNrIiwib3ZlcmFsbERlbGV0ZSIsIm9wZW5UYXNrIiwic2VhcmNoVGVybSIsImlucHV0IiwidmlzaWJpbGl0eSIsImRhdGFzZXQiLCJwYXJlbnQiLCJ0YXNrVGV4dCIsImRpc3BsYXlUaXRsZSIsIm9iaiIsImZpbmRJbmRleCIsImRhdGVUZXh0IiwiZGlzcGxheURhdGUiLCJkZXNjclRleHQiLCJkZXNjciIsImRpc3BsYXlEZXNjciIsIm5vdGVzIiwibm90ZUNvbnRhaW5lciIsIm5vdGVEZWxldGUiLCJub3Rlc1RleHQiLCJzdHJpa2UiLCJkZWxldGVOb3RlRnJvbURpc3BsYXkiLCJldmVudCIsInRhcmdldCIsInBhcmVudE5vZGUiLCJyZW1vdmUiLCJkZWxldGVUYXNrRG9tIiwiZGVsZXRlQWxsIiwiZm91bmQiLCJsaVRhZ3MiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudEVsZW1lbnQiLCJzdHJpa2VUaHJvdWdoIiwicmVtb3ZlQXR0cmlidXRlIiwidGhlbiIsInN0cmlrZUZhbHNlIiwic3RyaWtlVHJ1ZSJdLCJtYXBwaW5ncyI6IjBQQUVBLElBQUlBLEVBQWNDLFNBQVNDLGNBQWMsU0FFckNDLEVBQVMsV0FDVCxLQUFPSCxFQUFZSSxZQUNmSixFQUFZSyxZQUFZTCxFQUFZSSxhQWN4Q0UsRUFBZSxXQUNmSCxJQUNBLElBQUlJLEVBQW9CLEVBQUFDLFlBQVksRUFBQUEsWUFBQSxXQUFzQkMsSUFBcUIsSUFBaEJBLEVBQUVDLGFBQzdEQyxFQUFtQkosRUFBa0JLLE1BQ3pDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRixFQUFpQkcsT0FBUUQsSUFBSyxDQUM5QyxJQUFJRSxFQUFnQmQsU0FBU2UsY0FBYyxNQUMzQ0QsRUFBY0UsVUFBVUMsSUFBSSxnQkFDNUJsQixFQUFZbUIsWUFBWUosR0FFeEIsSUFBSUssRUFBYW5CLFNBQVNlLGNBQWMsT0FDeENELEVBQWNJLFlBQVlDLEdBQzFCQSxFQUFXQyxHQUFLLGNBQ2hCRCxFQUFXRSxJQUFJLHdEQUVmLElBQUlDLEVBQWV0QixTQUFTZSxjQUFjLE1BQzFDRCxFQUFjSSxZQUFZSSxHQUMxQkEsRUFBYUMsVUFBWWIsRUFBaUJFLEdBQUdZLE1BRTdDLElBQUlDLEVBQWN6QixTQUFTZSxjQUFjLE1BQ3pDRCxFQUFjSSxZQUFZTyxHQUMxQkEsRUFBWUYsVUFBWWIsRUFBaUJFLEdBQUdjLEtBOUJFQyxFQWdDM0JiLEVBL0JWLFNBRGdEYyxFQWdDdkJ0QixFQUFrQkssTUFBTUMsR0FBR2dCLE1BOUI3REQsRUFBVUUsTUFBTUMsZ0JBQWtCLFFBQ2xCLFFBQVRGLEVBQ1BELEVBQVVFLE1BQU1DLGdCQUFrQixTQUNsQixTQUFURixJQUNQRCxFQUFVRSxNQUFNQyxnQkFBa0IsT0FOakIsSUFBNkJILEVBQVdDLEdBcUM3REcsRUFBUy9CLFNBQVNDLGNBQWMsWUFDaEMrQixFQUFnQmhDLFNBQVNDLGNBQWMsYUErQnZDZ0MsRUFBVyxTQUFtQkMsR0FDOUIsSUFDSXhCLEVBRG9CLEVBQUFILFlBQVksRUFBQUEsWUFBQSxXQUFzQkMsSUFBcUIsSUFBaEJBLEVBQUVDLGFBQ3hCRSxNQWhDakIsSUFBZ0N3QixFQWtDeERqQyxJQWxDd0RpQyxFQW1DbENELEVBbEN0QkgsRUFBT0YsTUFBTU8sV0FBYSxVQUMxQnJDLEVBQVltQixZQUFZYSxHQUV4QkMsRUFBY0gsTUFBTU8sV0FBYSxVQUNqQ3JDLEVBQVltQixZQUFZYyxHQUN4QkEsRUFBY0ssUUFBUUMsT0FBU0gsRUFHaEIsU0FBdUJBLEdBQ3RDLElBQUlJLEVBQVd2QyxTQUFTZSxjQUFjLE1BQ3RDd0IsRUFBU25CLEdBQUssWUFDZHJCLEVBQVltQixZQUFZcUIsR0FDeEJBLEVBQVNoQixVQUFZWSxFQXVCckJLLENBQWFOLEdBQ2IsSUFBSU8sRUFBTS9CLEVBQWlCZ0MsV0FBVWxDLEdBQUtBLEVBQUVnQixRQUFVVSxJQUt0RCxHQTFCYyxTQUFzQkMsRUFBTzFCLEdBQzNDLElBQUlrQyxFQUFXM0MsU0FBU2UsY0FBYyxNQUN0QzRCLEVBQVN2QixHQUFLLFlBQ2RyQixFQUFZbUIsWUFBWXlCLEdBQ3hCQSxFQUFTcEIsVUFBWWQsRUFBVTBCLEdBQU9ULEtBa0J0Q2tCLENBQVlILEVBQUsvQixHQWZGLFNBQXVCeUIsRUFBTzFCLEdBQzdDLElBQUlvQyxFQUFZN0MsU0FBU2UsY0FBYyxPQUN2QzhCLEVBQVV6QixHQUFLLGFBQ2ZyQixFQUFZbUIsWUFBWTJCLEdBQ3hCQSxFQUFVdEIsVUFBWWQsRUFBVTBCLEdBQU9XLE1BWXZDQyxDQUFhTixFQUFLL0IsR0FHcUIsS0FBbkNBLEVBQWlCK0IsR0FBS08sTUFBTSxHQUM1QixJQUFLLElBQUlwQyxFQUFJLEVBQUdBLEVBQUlGLEVBQWlCK0IsR0FBS08sTUFBTW5DLE9BQVFELElBQUssQ0FDekQsSUFBSXFDLEVBQWdCakQsU0FBU2UsY0FBYyxPQUMzQ2tDLEVBQWNqQyxVQUFVQyxJQUFJLGtCQUM1QmxCLEVBQVltQixZQUFZK0IsR0FFeEIsSUFBSUMsRUFBYWxELFNBQVNlLGNBQWMsT0FDeENrQyxFQUFjL0IsWUFBWWdDLEdBQzFCQSxFQUFXOUIsR0FBSyxjQUNoQjhCLEVBQVc3QixJQUFJLHdEQUVmLElBQUk4QixFQUFZbkQsU0FBU2UsY0FBYyxPQUN2Q2tDLEVBQWMvQixZQUFZaUMsR0FDMUJBLEVBQVU1QixVQUFZYixFQUFpQitCLEdBQUtPLE1BQU1wQyxJQUNWLElBQXBDRixFQUFpQitCLEdBQUtXLE9BQU94QyxLQUM3QnVDLEVBQVUvQixHQUFLLG9CQU0zQmlDLEVBQXdCLFNBQWdDQyxHQUN4REEsRUFBTUMsT0FBT0MsV0FBV0MsVUFHeEJDLEVBQWdCLFNBQXdCSixHQUN4Q0EsRUFBTUMsT0FBT0MsV0FBV0MsVUFHeEJFLEVBQVksU0FBb0J6QixHQUNoQyxJQUNJMEIsRUFEQUMsRUFBUzdELFNBQVM4RCxxQkFBcUIsTUFFM0MsSUFBSyxJQUFJbEQsRUFBSSxFQUFHQSxFQUFJaUQsRUFBT2hELE9BQVFELElBQzNCaUQsRUFBT2pELEdBQUdXLFlBQWNXLElBQ3hCMEIsRUFBUUMsRUFBT2pELElBR3ZCZ0QsRUFBTUcsY0FBY04sVUFHcEJPLEVBQWdCLFNBQXdCVixHQUNoQixtQkFBcEJBLEVBQU1DLE9BQU9uQyxJQUNia0MsRUFBTUMsT0FBT1UsZ0JBQWdCLE1BQzdCLDZCQUFxQkMsTUFBS0MsSUFDdEJBLEVBQVlBLFlBQVliLFFBRzVCQSxFQUFNQyxPQUFPbkMsR0FBSyxpQkFDbEIsNkJBQXFCOEMsTUFBS0UsSUFDdEJBLEVBQVdBLFdBQVdkIiwiZmlsZSI6IjUyMC5tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtmb2xkZXJBcnJheX0gZnJvbSBcIi4vZm9sZGVyTG9naWMuanNcIjtcbmltcG9ydCB7IHNldExvY2FsU3RvcmFnZSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZS5qc1wiO1xubGV0IGJvZHlEaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNib2R5XCIpO1xuXG5sZXQgcmVuZGVyID0gKGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB3aGlsZSAoYm9keURpc3BsYXkuZmlyc3RDaGlsZCkge1xuICAgICAgICBib2R5RGlzcGxheS5yZW1vdmVDaGlsZChib2R5RGlzcGxheS5maXJzdENoaWxkKTtcbiAgICB9XG59KTtcblxubGV0IGhpZ2hsaWdodGluZ0ZvbGRlciA9IChmdW5jdGlvbiBoaWdobGlnaHRpbmdGb2xkZXIoY29udGFpbmVyLCBwcmlvKSB7XG4gICAgaWYgKHByaW8gPT09IFwibG93XCIpIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICB9IGVsc2UgaWYgKHByaW8gPT09IFwibWVkXCIpIHtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwieWVsbG93XCI7XG4gICAgfSBlbHNlIGlmIChwcmlvID09PSBcImhpZ2hcIikge1xuICAgICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICB9XG59KVxuXG5sZXQgZGlzcGxheVRhc2tzID0gKGZ1bmN0aW9uIGRpc3BsYXlUYXNrcygpIHtcbiAgICByZW5kZXIoKTtcbiAgICBsZXQgaGlnaGxpZ2h0ZWRGb2xkZXIgPSBmb2xkZXJBcnJheVtmb2xkZXJBcnJheS5maW5kSW5kZXgoeCA9PiB4LmhpZ2hsaWdodCA9PT0gdHJ1ZSldO1xuICAgIGxldCBoaWdobGlnaHRlZFRhc2tzID0gaGlnaGxpZ2h0ZWRGb2xkZXIudGFza3M7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaWdobGlnaHRlZFRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICBsaXN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWRpc3BsYXlcIik7XG4gICAgICAgIGJvZHlEaXNwbGF5LmFwcGVuZENoaWxkKGxpc3RDb250YWluZXIpO1xuXG4gICAgICAgIGxldCB0YXNrRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrRGVsZXRlKTtcbiAgICAgICAgdGFza0RlbGV0ZS5pZCA9IFwidGFzay1kZWxldGVcIjtcbiAgICAgICAgdGFza0RlbGV0ZS5zcmM9XCJodHRwczovL2ltYWdlLmZsYXRpY29uLmNvbS9pY29ucy9wbmcvNTEyLzYxLzYxODQ4LnBuZ1wiO1xuICAgICAgICBcbiAgICAgICAgbGV0IHRpdGxlRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZURpc3BsYXkpO1xuICAgICAgICB0aXRsZURpc3BsYXkuaW5uZXJUZXh0ID0gaGlnaGxpZ2h0ZWRUYXNrc1tpXS50aXRsZTtcblxuICAgICAgICBsZXQgZGF0ZURpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF0ZURpc3BsYXkpO1xuICAgICAgICBkYXRlRGlzcGxheS5pbm5lclRleHQgPSBoaWdobGlnaHRlZFRhc2tzW2ldLmRhdGU7XG4gICAgICAgIFxuICAgICAgICBoaWdobGlnaHRpbmdGb2xkZXIobGlzdENvbnRhaW5lciwgaGlnaGxpZ2h0ZWRGb2xkZXIudGFza3NbaV0ucHJpbyk7XG4gICAgfTtcblxufSk7XG5cbmxldCBnb0JhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dvLWJhY2tcIik7XG5sZXQgb3ZlcmFsbERlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsLXRhc2tcIik7XG5sZXQgZGlzcGxheURlbEFuZEJhY2tJY29uID0gKGZ1bmN0aW9uIGRpc3BsYXlEZWxBbmRCYWNrSWNvbihpbnB1dCkge1xuICAgIGdvQmFjay5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgYm9keURpc3BsYXkuYXBwZW5kQ2hpbGQoZ29CYWNrKTtcblxuICAgIG92ZXJhbGxEZWxldGUuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIGJvZHlEaXNwbGF5LmFwcGVuZENoaWxkKG92ZXJhbGxEZWxldGUpO1xuICAgIG92ZXJhbGxEZWxldGUuZGF0YXNldC5wYXJlbnQgPSBpbnB1dDtcbn0pO1xuXG5sZXQgZGlzcGxheVRpdGxlID0gKGZ1bmN0aW9uIGRpc3BsYXlUaXRsZShpbnB1dCkge1xuICAgIGxldCB0YXNrVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICB0YXNrVGV4dC5pZCA9IFwidGFzay10ZXh0XCI7XG4gICAgYm9keURpc3BsYXkuYXBwZW5kQ2hpbGQodGFza1RleHQpO1xuICAgIHRhc2tUZXh0LmlubmVyVGV4dCA9IGlucHV0O1xufSk7XG5cbmxldCBkaXNwbGF5RGF0ZSA9IChmdW5jdGlvbiBkaXNwbGF5RGF0ZShpbnB1dCwgaGlnaGxpZ2h0KSB7XG4gICAgbGV0IGRhdGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg0XCIpO1xuICAgIGRhdGVUZXh0LmlkID0gXCJkYXRlLXRleHRcIjtcbiAgICBib2R5RGlzcGxheS5hcHBlbmRDaGlsZChkYXRlVGV4dCk7XG4gICAgZGF0ZVRleHQuaW5uZXJUZXh0ID0gaGlnaGxpZ2h0W2lucHV0XS5kYXRlO1xufSk7XG5cbmxldCBkaXNwbGF5RGVzY3IgPSAoZnVuY3Rpb24gZGlzcGxheURlc2NyKGlucHV0LCBoaWdobGlnaHQpIHtcbiAgICBsZXQgZGVzY3JUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkZXNjclRleHQuaWQgPSBcImRlc2NyLXRleHRcIjtcbiAgICBib2R5RGlzcGxheS5hcHBlbmRDaGlsZChkZXNjclRleHQpO1xuICAgIGRlc2NyVGV4dC5pbm5lclRleHQgPSBoaWdobGlnaHRbaW5wdXRdLmRlc2NyO1xufSk7XG5cbmxldCBvcGVuVGFzayA9IChmdW5jdGlvbiBvcGVuVGFzayhzZWFyY2hUZXJtKSB7XG4gICAgbGV0IGhpZ2hsaWdodGVkRm9sZGVyID0gZm9sZGVyQXJyYXlbZm9sZGVyQXJyYXkuZmluZEluZGV4KHggPT4geC5oaWdobGlnaHQgPT09IHRydWUpXTtcbiAgICBsZXQgaGlnaGxpZ2h0ZWRUYXNrcyA9IGhpZ2hsaWdodGVkRm9sZGVyLnRhc2tzO1xuXG4gICAgcmVuZGVyKCk7XG4gICAgZGlzcGxheURlbEFuZEJhY2tJY29uKHNlYXJjaFRlcm0pO1xuICAgIGRpc3BsYXlUaXRsZShzZWFyY2hUZXJtKTtcbiAgICBsZXQgb2JqID0gaGlnaGxpZ2h0ZWRUYXNrcy5maW5kSW5kZXgoeCA9PiB4LnRpdGxlID09PSBzZWFyY2hUZXJtKTtcbiAgICBkaXNwbGF5RGF0ZShvYmosIGhpZ2hsaWdodGVkVGFza3MpO1xuICAgIGRpc3BsYXlEZXNjcihvYmosIGhpZ2hsaWdodGVkVGFza3MpO1xuXG4vLyBkaXNwbGF5IG5vdGVzXG4gICAgaWYgKGhpZ2hsaWdodGVkVGFza3Nbb2JqXS5ub3Rlc1swXSAhPT0gXCJcIikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhpZ2hsaWdodGVkVGFza3Nbb2JqXS5ub3Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5vdGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbm90ZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibm90ZS1jb250YWluZXJcIik7XG4gICAgICAgICAgICBib2R5RGlzcGxheS5hcHBlbmRDaGlsZChub3RlQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgbGV0IG5vdGVEZWxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgbm90ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChub3RlRGVsZXRlKTtcbiAgICAgICAgICAgIG5vdGVEZWxldGUuaWQgPSBcIm5vdGUtZGVsZXRlXCI7XG4gICAgICAgICAgICBub3RlRGVsZXRlLnNyYz1cImh0dHBzOi8vaW1hZ2UuZmxhdGljb24uY29tL2ljb25zL3BuZy81MTIvNjEvNjE4NDgucG5nXCI7XG4gXG4gICAgICAgICAgICBsZXQgbm90ZXNUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIG5vdGVDb250YWluZXIuYXBwZW5kQ2hpbGQobm90ZXNUZXh0KTtcbiAgICAgICAgICAgIG5vdGVzVGV4dC5pbm5lclRleHQgPSBoaWdobGlnaHRlZFRhc2tzW29ial0ubm90ZXNbaV07XG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRUYXNrc1tvYmpdLnN0cmlrZVtpXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG5vdGVzVGV4dC5pZCA9IFwic3RyaWtlLXRocm91Z2hcIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn0pO1xuXG5sZXQgZGVsZXRlTm90ZUZyb21EaXNwbGF5ID0gKGZ1bmN0aW9uIGRlbGV0ZU5vdGVGcm9tRGlzcGxheShldmVudCkge1xuICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpO1xufSlcblxubGV0IGRlbGV0ZVRhc2tEb20gPSAoZnVuY3Rpb24gZGVsZXRlVGFza0RvbShldmVudCkge1xuICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpO1xufSk7XG5cbmxldCBkZWxldGVBbGwgPSAoZnVuY3Rpb24gZGVsZXRlQWxsKHNlYXJjaFRlcm0pIHtcbiAgICBsZXQgbGlUYWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcbiAgICBsZXQgZm91bmQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpVGFnc1tpXS5pbm5lclRleHQgPT09IHNlYXJjaFRlcm0pIHtcbiAgICAgICAgICAgIGZvdW5kID0gbGlUYWdzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvdW5kLnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG59KVxuXG5sZXQgc3RyaWtlVGhyb3VnaCA9IChmdW5jdGlvbiBzdHJpa2VUaHJvdWdoKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5pZCA9PT0gXCJzdHJpa2UtdGhyb3VnaFwiKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgaW1wb3J0KFwiLi90YXNrcy5qc1wiKS50aGVuKHN0cmlrZUZhbHNlID0+IHtcbiAgICAgICAgICAgIHN0cmlrZUZhbHNlLnN0cmlrZUZhbHNlKGV2ZW50KSAgXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5pZCA9IFwic3RyaWtlLXRocm91Z2hcIjtcbiAgICAgICAgaW1wb3J0KFwiLi90YXNrcy5qc1wiKS50aGVuKHN0cmlrZVRydWUgPT4ge1xuICAgICAgICAgICAgc3RyaWtlVHJ1ZS5zdHJpa2VUcnVlKGV2ZW50KSAgXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5cblxuZXhwb3J0IHtkaXNwbGF5VGFza3MsIHJlbmRlciwgb3BlblRhc2ssIGRlbGV0ZU5vdGVGcm9tRGlzcGxheSwgZGVsZXRlVGFza0RvbSwgc3RyaWtlVGhyb3VnaCwgZGVsZXRlQWxsfTsiXSwic291cmNlUm9vdCI6IiJ9